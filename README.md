# tmr

private repository  
писать тут на англе? если это приватный реп, то какая разница

## TODO

для функционирования игры мне необходимо:  
1. ии (работает, не протестировано)  
работает почти все что я хотел кроме собирания отрядов, нужно протестировать поиск пути  
2. игровая логика (не работает, код есть)  
недавно добавил аттрибуты, взаимодействия, способ вызывать смерть объекта  
с помощью взаимодействий планирую смоделировать много разных вещей (атака, заклинания, использование объектов и др)  
пока что сделал только физик обдж интерактион, нужно доделать остальное  
аттрибуты на текущий момент сделаны через буфер в компоненте, может быть нужно не буфер заполнять, 
а каждый раз опрашивать вещи которые могут изменить аттрибуты, например опрашивать эффекты на степень изменения,
а не из эффектов добавлять в буфер изменения аттрибута  
2.1. интерфейс (простецкий интерфес работает, будет переделываться)  
подступить пока к нему не могу, уже скорее всего скоро буду делать интерфейс нормальным  
2.2. главная фишка - изменяемая гравитация (неизвестно, но код есть)  
вся подготовка уже выполнена, по идее вполне может заработать в ближайшем будущем  
3. физика (работает мультипоток)  
физика у меня работает сейчас нормально  
особо доделывать ее не потребуется, разве что чуть чуть подкорректировать мультитрединг  
доделал лучи, нужно будет добавить дополнительную информацию в оверлаппинг дата  
4. звук (работает, один поток)  
я сделал практически полностью все то что нужно было  
нужно будет посмотреть как можно сделать мультипоток + сынтегрировать с загрузкой данных с диска, нужно сделать чтобы у меня хранились mp3 (или в другом формате) данные в памяти
5. графика (работает, один поток)  
декали и частицы добавлены пока не знаю насколько они готовы, там есть один баг 100% с частицами  
+ я уверен что именно частицы не взлетят изначально и придется повозиться
теперь после того как я сделал взаимодействия я могу заняться плотнее этим делом
нужно ли мне в графике делать такое же освещение как в думе?  
то есть у каждой плоскости есть коэфициент освещения, как освещать монстров?  

также мне нужно сделать вещи для менеджмента ресурсов  
я уже понял что нужно использовать простые zip архивы для хранения данных  
и использовать какой-нибудь zipper, тут возникает проблема откуда грузить музыку  
хранить музыку в зашифрованном виде (mp3) в памяти? или считывать зиппер с диска и производить необходимые действия  
понятно что последнее это практически смерть производительности  

также необходимо продумать дизайн файлов с помощью которых я буду все загружать  
буду придерживаться нескольких простых но четких правил, например, каждый мод должен в корне содержать main.json  
что с типами загружаемых объектов? текстурки было бы неплохо хранить в каком-нибудь сжатом виде  
звуки могут грузится из mp3, flac, wav, ogg, думаю что этих форматов достаточно  
формат карты я должен написать сам
анимации, описание объектов, элементы логики должны быть в json

сейчас мне необходимо совместить декали, частицы, звуки в одно целое и попытаться с этим поработать  
в данный момент нужно все протестировать и если то что я уже сделал будет нормально работать, то я уже можено сказать доделал движок, останестя не так много работы непосредственно с движком

Доп фичи:
[metal](https://github.com/naleksiev/mtlpp.git) - поддержка метала в cpp
