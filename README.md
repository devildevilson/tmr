# tmr

private repository  
писать тут на англе? если это приватный реп, то какая разница

## TODO

для функционирования игры мне необходимо:  
1. ии (не работает, кода еще нет)  
не получается до конца верно продумать  
остается решить неколько вопросов, например, я хочу что бы противник имел возможность собираться в отряды и формировать построения  
я хочу чтобы система работала в нескольких потоках  
2. игровая логика (не работает, код есть)  
2.1. заклинания, атака, анимации  
последнее сделано, остальное пока нет  
2.2. взаимодействие с окружением (не работает, кода нет)  
удар по стене, например, должен спавнить частицы, открывание и закрывание дверей и прочего  
2.3. интерфейс (простецкий интерфес работает, будет переделываться)  
подступить пока к нему не могу  
2.4. смерть объектов (не работает, кода нет)  
смерть может спавнить несколько декалей, задавать им анимации, удалять объекты и прочее  
2.5. главная фишка - изменяемая гравитация (неизвестно, но код есть)  
вся подготовка уже выполнена, по идее вполне может заработать в ближайшем будущем  
3. физика (работает мультипоток)  
физика у меня работает сейчас нормально  
особо доделывать ее не потребуется, разве что чуть чуть подкорректировать мультитрединг  
4. звук (работает, один поток)  
я сделал практически полностью все то что нужно было  
5. графика (работает, один поток)  
кроме декалей и частиц все работает  
нужно ли мне в графике делать такое же освещение как в думе?  
то есть у каждой плоскости есть коэфициент освещения, как освещать монстров?  

также мне нужно сделать вещи для менеджмента ресурсов  
я уже понял что нужно использовать простые zip архивы для хранения данных  
и использовать какой-нибудь zipper, тут возникает проблема откуда грузить музыку  
хранить музыку в зашифрованном виде (mp3) в памяти? или считывать зиппер с диска и производить необходимые действия  
понятно что последнее это практически смерть производительности  

также необходимо продумать дизайн файлов с помощью которых я буду все загружать  
буду придерживаться нескольких простых но четких правил, например, каждый мод должен в корне содержать main.json  
что с типами загружаемых объектов? текстурки было бы неплохо хранить в каком-нибудь сжатом виде  
звуки могут грузится из mp3, flac, wav, ogg, думаю что этих форматов достаточно  
формат карты я должен написать сам
анимации, описание объектов, элементы логики должны быть в json

сейчас мне необходимо совместить декали, частицы, звуки в одно целое и попытаться с этим поработать

Доп фичи:
[metal](https://github.com/naleksiev/mtlpp.git) - поддержка метала в cpp
